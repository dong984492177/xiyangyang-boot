<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ywt.console.mapper.UserTaskMapper">

    <sql id="taskSQL">
        id, user_name userName, task_category_id taskCategoryId, task_category_name taskCategoryName,
        start_time startTime,end_time endTime,instance_id instanceId,state,remark
    </sql>

    <select id="findList" resultType="com.ywt.console.models.resmodel.UserTaskResModel">
        select <include refid="taskSQL"/>
        from t_user_task
        <where>
            <if test="null != param.taskCategoryId ">
                and task_category_id = #{param.taskCategoryId}
            </if>
            <if test="null != param.state and param.state != '' ">
                and state = #{param.state}
            </if>
            <if test="null != param.startTime and param.startTime != '' ">
                and start_time = #{param.startTime}
            </if>
            <if test="null != param.endTime and param.endTime != '' ">
                and end_time = #{param.endTime}
            </if>
            <if test="null != param.createBy and param.createBy != '' ">
                and create_by = #{param.createBy}
            </if>
        </where>
    </select>
</mapper>
